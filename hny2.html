<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year 2024!</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: #000;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-family: Arial, sans-serif;
        }

        .snow {
            position: fixed;
            top: -10px;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }

        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            pointer-events: none;
        }

        .text {
            position: relative;
            font-size: 5em;
            text-align: center;
            animation: glow 5s ease-in-out infinite;
            z-index: 1;
        }

        .audio-message {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1em;
            color: #fff;
            opacity: 0.8;
            transition: opacity 0.5s;
            z-index: 2;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        @keyframes glow {
            0% { text-shadow: 0 0 20px #ff0000, 0 0 30px #ff0000, 0 0 40px #ff0000; }
            14% { text-shadow: 0 0 20px #ff7f00, 0 0 30px #ff7f00, 0 0 40px #ff7f00; }
            28% { text-shadow: 0 0 20px #ffff00, 0 0 30px #ffff00, 0 0 40px #ffff00; }
            42% { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00, 0 0 40px #00ff00; }
            56% { text-shadow: 0 0 20px #0000ff, 0 0 30px #0000ff, 0 0 40px #0000ff; }
            70% { text-shadow: 0 0 20px #4b0082, 0 0 30px #4b0082, 0 0 40px #4b0082; }
            84% { text-shadow: 0 0 20px #9400d3, 0 0 30px #9400d3, 0 0 40px #9400d3; }
            100% { text-shadow: 0 0 20px #ff0000, 0 0 30px #ff0000, 0 0 40px #ff0000; }
        }
    </style>
</head>
<body>
    <div class="text">Happy New Year 2025! ðŸŽ‰</div>
    
    <audio id="fireworksAudio" loop autoplay>
        <source src="fireworks.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div id="audioMessage" class="audio-message">
        Click anywhere to play music ðŸŽµ
    </div>

    <script>
        // Ensure audio plays when user interacts with the page
        document.addEventListener('click', function() {
            const audio = document.getElementById('fireworksAudio');
            const message = document.getElementById('audioMessage');
            audio.play().then(() => {
                message.classList.add('hidden');
            }).catch(error => {
                console.log('Audio playback failed:', error);
            });
        });

        // Check if audio is already playing
        const audio = document.getElementById('fireworksAudio');
        audio.play().then(() => {
            document.getElementById('audioMessage').classList.add('hidden');
        }).catch(() => {
            // Audio didn't autoplay, message will remain visible
        });

        // Snow effect
        function createSnow() {
            const snow = document.createElement('div');
            snow.className = 'snow';
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDuration = Math.random() * 3 + 2 + 's';
            snow.style.opacity = Math.random();
            document.body.appendChild(snow);

            setTimeout(() => {
                snow.remove();
            }, 5000);
        }

        setInterval(createSnow, 100);

        // Fireworks effect
        function createFirework(x, y) {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            const rocket = document.createElement('div');
            rocket.className = 'firework';
            rocket.style.left = x + 'px';
            rocket.style.top = window.innerHeight + 'px';  // Start from bottom
            rocket.style.backgroundColor = '#ff8';
            document.body.appendChild(rocket);

            let rocketY = window.innerHeight;
            const targetY = y;
            const speed = 15;

            const launchRocket = () => {
                rocketY -= speed;
                rocket.style.transform = `translateY(${rocketY - window.innerHeight}px)`;

                if (rocketY > targetY) {
                    requestAnimationFrame(launchRocket);
                } else {
                    rocket.remove();
                    // Create explosion
                    for (let i = 0; i < 50; i++) {
                        const particle = document.createElement('div');
                        particle.className = 'firework';
                        particle.style.left = x + 'px';
                        particle.style.top = targetY + 'px';
                        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        
                        const angle = (Math.PI * 2 * i) / 50;
                        const velocity = 10 + Math.random() * 5;
                        const vx = Math.cos(angle) * velocity;
                        const vy = Math.sin(angle) * velocity;
                        
                        document.body.appendChild(particle);
                        
                        let posX = x;
                        let posY = targetY;
                        let opacity = 1;
                        
                        const animate = () => {
                            if (opacity <= 0) {
                                particle.remove();
                                return;
                            }
                            
                            posX += vx;
                            posY += vy;
                            opacity -= 0.02;
                            
                            particle.style.transform = `translate(${posX - x}px, ${posY - targetY}px)`;
                            particle.style.opacity = opacity;
                            
                            requestAnimationFrame(animate);
                        };
                        
                        animate();
                    }
                }
            };

            launchRocket();
        }

        // Create fireworks randomly
        function randomFirework() {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * (window.innerHeight * 0.5);  // Explode in upper half
            createFirework(x, y);
        }

        // Create fireworks on click
        document.addEventListener('click', (e) => {
            createFirework(e.clientX, e.clientY);
        });

        // Initial fireworks display
        function createInitialFireworks() {
            const fireworks = [];
            for(let i = 0; i < 25; i++) {
                const x = Math.random() * window.innerWidth;
                const y = Math.random() * (window.innerHeight * 0.5);
                const rocket = document.createElement('div');
                rocket.className = 'firework';
                rocket.style.left = x + 'px';
                rocket.style.top = window.innerHeight + 'px';
                rocket.style.backgroundColor = '#ff8';
                document.body.appendChild(rocket);

                fireworks.push({
                    rocket,
                    x,
                    targetY: y,
                    currentY: window.innerHeight,
                    speed: 15
                });
            }

            function animateAll() {
                let allExploded = true;
                fireworks.forEach(fw => {
                    if (fw.currentY > fw.targetY) {
                        fw.currentY -= fw.speed;
                        fw.rocket.style.transform = `translateY(${fw.currentY - window.innerHeight}px)`;
                        allExploded = false;
                    }
                });

                if (allExploded) {
                    fireworks.forEach(fw => {
                        fw.rocket.remove();
                        createFirework(fw.x, fw.targetY);
                    });
                    return;
                }
                requestAnimationFrame(animateAll);
            }

            animateAll();
        }

        // Start the initial fireworks display
        setTimeout(createInitialFireworks, 500);

        // Start the random fireworks after the initial display
        setTimeout(() => {
            setInterval(randomFirework, 1000);
        }, 3000);
    </script>
</body>
</html>
